{"version":3,"file":"rete.min.js","sources":["../src/engine/component.ts","../src/node.ts","../src/component.ts","../src/connection.ts","../src/control.ts","../src/core/emitter.ts","../src/io.ts","../src/input.ts","../src/core/validator.ts","../src/core/context.ts","../src/view/utils.ts","../src/view/drag.ts","../src/view/zoom.ts","../src/view/area.ts","../src/view/connection.ts","../src/view/control.ts","../src/view/socket.ts","../src/view/node.ts","../src/view/index.ts","../src/selected.ts","../src/core/events.ts","../src/events.ts","../src/editor.ts","../src/output.ts","../src/socket.ts","../src/candidate.ts","../src/engine/recursion.ts","../src/engine/state.ts","../src/engine/events.ts","../src/engine/index.ts","../src/index.ts"],"sourcesContent":["import { Engine } from './index';\nimport { NodeData, WorkerInputs, WorkerOutputs } from '../core/data';\n\nexport abstract class Component {\n\n    name: string;\n    data: unknown = {};\n    engine: Engine | null = null;\n\n    constructor(name: string) {\n        this.name = name;\n    }\n\n    abstract worker(node: NodeData, inputs: WorkerInputs, outputs: WorkerOutputs, ...args: unknown[]): void;\n}","import { Connection } from './connection';\nimport { Control } from './control';\nimport { Input } from './input';\nimport { Output } from './output';\nimport { InputsData, NodeData, OutputsData } from './core/data';\nimport { Candidate } from './candidate';\n\nexport class Node {\n\n    name: string;\n    id: number;\n    position: [number, number] = [0.0, 0.0];\n    inputs = new Map<string, Input>();\n    outputs = new Map<string, Output>();\n    controls = new Map<string, Control>();\n    data: { [key: string]: unknown } = {};\n    meta: { [key: string]: unknown } = {};\n    collapsed: boolean;\n    candidates = new Map<string, Candidate>();\n    descriptionCollapsed: boolean;\n    inputsCollapsed: boolean;\n    processedCollapsed: boolean;\n    outputsCollapsed: boolean;\n\n    static latestId = 0;\n\n    constructor(name: string) {\n        this.name = name;\n        this.collapsed = false;\n        this.descriptionCollapsed = true;\n        this.inputsCollapsed = false;\n        this.processedCollapsed = true;\n        this.outputsCollapsed = false;\n        this.id = Node.incrementId();\n    }\n\n    _add<T extends { key: string } & Record<string, any>>(list: Map<string, T>, item: T, prop: string) {\n        if (list.has(item.key))\n            throw new Error(`Item with key '${item.key}' already been added to the node`);\n        if (item[prop] !== null)\n            throw new Error('Item has already been added to some node');\n\n        (item as Record<string, Node>)[prop] = this;\n        list.set(item.key, item);\n    }\n\n    addControl(control: Control) {\n        this._add(this.controls, control, 'parent');\n        return this;\n    }\n\n    removeControl(control: Control) {\n        control.parent = null;\n\n        this.controls.delete(control.key);\n    }\n\n    addInput(input: Input) {\n        this._add(this.inputs, input, 'node');\n        return this;\n    }\n\n    removeInput(input: Input) {\n        input.removeConnections();\n        input.node = null;\n\n        this.inputs.delete(input.key);\n    }\n\n    addOutput(output: Output) {\n        this._add(this.outputs, output, 'node');\n        return this;\n    }\n\n    removeOutput(output: Output) {\n        output.removeConnections();\n        output.node = null;\n\n        this.outputs.delete(output.key);\n    }\n\n    addCandidate(candidate: Candidate){\n        this._add(this.candidates, candidate, 'node');\n        return this;\n    }\n\n    removeCandidate(candidate: Candidate){\n        this.candidates.delete(candidate.key);\n    }\n\n    setMeta(meta: { [key: string]: unknown }) {\n        this.meta = meta;\n        return this;\n    }\n\n    getConnections() {\n        const ios = [...this.inputs.values(), ...this.outputs.values()];\n        const connections = ios.reduce((arr, io) => {\n            return [...arr, ...io.connections];\n        }, [] as Connection[]);\n\n        return connections;\n    }\n\n    update() {\n    }\n\n    static incrementId() {\n        if (!this.latestId)\n            this.latestId = 1\n        else\n            this.latestId++\n        return this.latestId\n    }\n\n    static resetId() {\n        this.latestId = 0;\n    }\n\n    toJSON(): NodeData {\n        const reduceIO = <T extends Record<string, any>>(list: Map<string, Input | Output | Candidate>) => {\n            return Array.from(list).reduce<T>((obj, [key, io]) => {\n                (obj as Record<string, any>)[key] = io.toJSON();\n                return obj;\n            }, {} as any)\n        }\n\n        return {\n            'id': this.id,\n            'data': this.data,\n            'inputs': reduceIO<InputsData>(this.inputs),\n            'outputs': reduceIO<OutputsData>(this.outputs),\n            'position': this.position,\n            'name': this.name,\n            'collapsed': this.collapsed,\n            'candidates': Array.from(this.candidates).reduce((obj, [key, c]) => {\n                (obj as Record<string, any>)[key] = c.toJSON();\n                return obj;\n            }, {} as any),\n            'descriptionCollapsed':this.descriptionCollapsed,\n            'inputsCollapsed': this.inputsCollapsed,\n            'processedCollapsed': this.processedCollapsed,\n            'outputsCollapsed': this.outputsCollapsed\n        }\n    }\n\n    static fromJSON(json: NodeData) {\n        const node = new Node(json.name);\n        const [x, y] = json.position;\n\n        node.id = json.id;\n        node.data = json.data;\n        node.position = [x, y];\n        node.name = json.name;\n        Node.latestId = Math.max(node.id, Node.latestId);\n        node.collapsed = json.collapsed;\n        const candidatesMap = new Map<string, Candidate>();\n        for (const key in json.candidates) {\n            if (json.candidates.hasOwnProperty(key)) {\n                candidatesMap.set(key, json.candidates[key]);\n            }\n        }\n        node.candidates = candidatesMap;\n        node.descriptionCollapsed = json.descriptionCollapsed;\n        node.inputsCollapsed = json.inputsCollapsed;\n        node.processedCollapsed = json.processedCollapsed;\n        node.outputsCollapsed = json.outputsCollapsed;\n\n        return node;\n    }\n}\n","import { Component as ComponentWorker } from './engine/component';\nimport { Node } from './node';\nimport { NodeEditor } from './editor';\n\nexport abstract class Component extends ComponentWorker {\n\n    editor: NodeEditor | null = null;\n    data: unknown = {};\n\n    constructor(name: string) {\n        super(name);\n    }\n\n    abstract builder(node: Node): Promise<void>;\n\n    async build(node: Node) {\n        await this.builder(node);\n\n        return node;\n    }\n\n    async createNode(data = {}) {\n        const node = new Node(this.name);\n\n        node.data = data;\n        await this.build(node);\n\n        return node;\n    }\n}\n","import { Input } from './input';\nimport { Output } from './output';\n\nexport class Connection {\n\n    output: Output;\n    input: Input;\n    data: unknown = {};\n\n    constructor(output: Output, input: Input) {\n        this.output = output;\n        this.input = input;\n        this.data = {};\n\n        this.input.addConnection(this);\n    }\n\n    remove() {\n        this.input.removeConnection(this);\n        this.output.removeConnection(this);\n    }\n}","import { Input } from './input';\nimport { Node } from './node';\n\nexport class Control {\n\n    key: string;\n    data: unknown = {};\n    parent: Node | Input | null = null;\n\n    constructor(key: string) {\n        if (this.constructor === Control)\n            throw new TypeError('Can not construct abstract class');\n        if (!key)\n            throw new Error('The key parameter is missing in super() of Control ');\n\n        this.key = key;\n    }\n\n    getNode() {\n        if (this.parent === null)\n            throw new Error('Control isn\\'t added to Node/Input');   \n        \n        if (this.parent instanceof Node)\n            return this.parent;\n            \n        if (!this.parent.node)\n            throw new Error('Control hasn\\'t be added to Input or Node');\n\n        return this.parent.node;\n    }\n\n    getData(key: string) {\n        return this.getNode().data[key];\n    }\n\n    putData(key: string, data: unknown) {\n        this.getNode().data[key] = data;\n    }  \n}","import { Events } from './events';\n\nexport class Emitter<EventTypes> {\n\n    events: {[key: string]: Function[]} = {};\n    silent = false;\n\n    constructor(events: Events | Emitter<EventTypes>) {\n        this.events = events instanceof Emitter ? events.events : events.handlers;\n    }\n\n    on<K extends keyof EventTypes>(names: K | K[], handler: (args: EventTypes[K]) => void | unknown): this {\n        const events = names instanceof Array ? names : (names as string).split(' ');\n\n        (events as string[]).forEach(name => {\n            if (!this.events[name])\n                throw new Error(`The event ${name} does not exist`);\n            this.events[name].push(handler);\n        });\n\n        return this;\n    }\n\n    trigger<K extends keyof EventTypes>(name: K, params: EventTypes[K] | {} = {}) {\n        if (!(name in this.events))\n            throw new Error(`The event ${String(name)} cannot be triggered`);\n\n        return this.events[name as string].reduce((r: boolean, e: Function) => {\n            return (e(params) !== false) && r\n        }, true); // return false if at least one event is false\n    }\n\n    bind(name: string) {\n        if (this.events[name])\n            throw new Error(`The event ${name} is already bound`);\n\n        this.events[name] = [];\n    }\n\n    exist(name: string) {\n        return Array.isArray(this.events[name]);\n    }\n}\n","import { Connection } from './connection';\nimport { Node } from './node';\nimport { Socket } from './socket';\n\nexport class IO {\n\n    node: Node | null = null;\n    multipleConnections: boolean;\n    connections: Connection[] = [];\n   \n    key: string;\n    name: string;\n    socket: Socket;\n    data: any;\n\n    constructor(key: string, name: string, socket: Socket, multiConns: boolean) {\n\t    this.node = null;\n        this.multipleConnections = multiConns;\n        this.connections = [];\n\t   \n        this.key = key;\n        this.name = name;\n        this.socket = socket;\n    }\n    \n    removeConnection(connection: Connection) {\n        this.connections.splice(this.connections.indexOf(connection), 1);\n    }\n\n    removeConnections() {\n        this.connections.forEach(connection => this.removeConnection(connection));\n    }\n}","import { Connection } from './connection';\nimport { Control } from './control';\nimport { IO } from './io';\nimport { InputData } from './core/data';\nimport { Socket } from './socket';\n\nexport class Input extends IO {\n\n    control: Control | null = null;\n\n    constructor(key: string, title: string, socket: Socket, multiConns = false) {\n        super(key, title, socket, multiConns);\n    }\n\n    hasConnection() {\n        return this.connections.length > 0;\n    }\n\n    addConnection(connection: Connection) {\n        if (!this.multipleConnections && this.hasConnection())\n            throw new Error('Multiple connections not allowed');\n        this.connections.push(connection);\n    }\n\n    addControl(control: Control) {\n        this.control = control;\n        control.parent = this;\n    }\n\n    showControl() {\n        return !this.hasConnection() && this.control !== null;\n    }\n\n    toJSON(): InputData {\n        return {\n            'connections': this.connections.map(c => {\n                if (!c.output.node) throw new Error('Node not added to Output');\n\n                return {\n                    node: c.output.node.id,\n                    output: c.output.key,\n                    data: c.data\n                };\n            })\n        };\n    }\n}\n","import { Data } from './data';\n\nexport class Validator {\n\n    static isValidData(data: Data) {\n        return typeof data.id === 'string' &&\n            this.isValidId(data.id) &&\n            data.nodes instanceof Object && !(data.nodes instanceof Array);\n    }\n\n    static isValidId(id: string) {\n        return /^[\\w-]{3,}@[0-9]+\\.[0-9]+\\.[0-9]+$/.test(id);\n    }\n\n    static validate(id: string, data: Data) {\n        const id1 = id.split('@');\n        const id2 = data.id.split('@');\n        const msg = [];\n\n        if (!this.isValidData(data))\n            msg.push('Data is not suitable');\n        if (id !== data.id)\n            msg.push('IDs not equal');\n        if (id1[0] !== id2[0])\n            msg.push('Names don\\'t match');\n        if (id1[1] !== id2[1])\n            msg.push('Versions don\\'t match');\n\n        return { success: Boolean(!msg.length), msg: msg.join('. ') };\n    }\n}\n","import { Component } from '../engine/component';\nimport { Emitter } from './emitter'\nimport { Validator } from './validator'\nimport { EventsTypes as DefaultEvents, Events } from './events';\nimport { Plugin, PluginParams } from './plugin';\n\nexport class Context<EventsTypes> extends Emitter<EventsTypes & DefaultEvents> {\n\n    id: string;\n    plugins: Map<string, unknown>;\n    components: Map<string, Component>;\n\n    constructor(id: string, events: Events) {\n        super(events);\n\n        if (!Validator.isValidId(id))\n            throw new Error('ID should be valid to name@0.1.0 format');  \n        \n        this.id = id;\n        this.plugins = new Map();\n        this.components = new Map();\n    }\n\n    use<T extends Plugin, O extends PluginParams<T>>(plugin: T, options?: O) {\n        if (plugin.name && this.plugins.has(plugin.name)) throw new Error(`Plugin ${plugin.name} already in use`)\n\n        plugin.install(this, options || {});\n        this.plugins.set(plugin.name, options)\n    }\n\n    register(component: Component) {\n        if (this.components.has(component.name))\n            throw new Error(`Component ${component.name} already registered`);\n\n        this.components.set(component.name, component);\n        this.trigger('componentregister', component);\n    }\n\n    destroy() {\n        this.trigger('destroy');\n    }\n}","export function listenWindow<K extends keyof WindowEventMap>(event: K, handler: (e: WindowEventMap[K]) => void) {\n    window.addEventListener(event, handler);\n\n    return () => {\n        window.removeEventListener<K>(event, handler);\n    }\n}\n","import { listenWindow } from './utils';\n\nexport class Drag {\n\n    pointerStart: [number, number] | null;\n    el: HTMLElement;\n    destroy: () => void;\n\n    constructor(\n        el: HTMLElement,\n        private onTranslate = (_x: number, _y: number, _e: PointerEvent) => {},\n        private onStart = (_e: PointerEvent) => {},\n        private onDrag = (_e: PointerEvent) => {}\n    ) {\n        this.pointerStart = null;\n        this.el = el;\n\n        this.el.style.touchAction = 'none';\n        this.el.addEventListener('pointerdown', this.down.bind(this));\n\n        const destroyMove = listenWindow('pointermove', this.move.bind(this));\n        const destroyUp = listenWindow('pointerup', this.up.bind(this));\n\n        this.destroy = () => { destroyMove(); destroyUp(); }\n    }\n\n    down(e: PointerEvent) {\n        if ((e.pointerType === 'mouse') && (e.button !== 0)) return;\n        e.stopPropagation();\n        this.pointerStart = [e.pageX, e.pageY]\n\n        this.onStart(e);\n    }\n\n    move(e: PointerEvent) {\n        if (!this.pointerStart) return;\n        e.preventDefault();\n\n        const [x, y] = [e.pageX, e.pageY]\n\n        const delta = [x - this.pointerStart[0], y - this.pointerStart[1]];\n\n        const zoom = this.el.getBoundingClientRect().width / this.el.offsetWidth;\n\n        this.onTranslate(delta[0] / zoom, delta[1] / zoom, e);\n    }\n\n    up(e: PointerEvent) {\n        if (!this.pointerStart) return;\n\n        this.pointerStart = null;\n        this.onDrag(e);\n    }\n}\n","import { listenWindow } from './utils';\n\nexport class Zoom {\n\n    el: HTMLElement;\n    intensity: number;\n    onzoom: Function;\n    previous: { cx: number; cy: number; distance: number } | null = null;\n\n    pointers: PointerEvent[] = [];\n    destroy: () => void;\n\n    constructor(container: HTMLElement, el: HTMLElement, intensity: number, onzoom: Function) {\n        this.el = el;\n        this.intensity = intensity;\n        this.onzoom = onzoom;\n\n        container.addEventListener('wheel', this.wheel.bind(this));\n        container.addEventListener('pointerdown', this.down.bind(this));\n        container.addEventListener('dblclick', this.dblclick.bind(this));\n\n        const destroyMove = listenWindow('pointermove', this.move.bind(this));\n        const destroyUp = listenWindow('pointerup', this.end.bind(this));\n        const destroyCancel = listenWindow('pointercancel', this.end.bind(this));\n\n        this.destroy = () => { destroyMove(); destroyUp(); destroyCancel(); }\n    }\n\n    get translating() { // is translating while zoom (works on multitouch)\n        return this.pointers.length >= 2;\n    }\n\n    wheel(e: WheelEvent) {\n        e.preventDefault();\n\n        const rect = this.el.getBoundingClientRect();\n        const isNegative = e.deltaY < 0;\n        const delta = isNegative ? this.intensity : - this.intensity;\n        const ox = (rect.left - e.clientX) * delta;\n        const oy = (rect.top - e.clientY) * delta;\n\n        this.onzoom(delta, ox, oy, 'wheel');\n    }\n\n    touches() {\n        const e = { touches: this.pointers }\n        const [x1, y1] = [e.touches[0].clientX, e.touches[0].clientY];\n        const [x2, y2] = [e.touches[1].clientX, e.touches[1].clientY];\n\n        const distance = Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n\n        return {\n            cx: (x1 + x2)/2,\n            cy: (y1 + y2)/2,\n            distance\n        };\n    }\n\n    down(e: PointerEvent) {\n        this.pointers.push(e);\n    }\n\n    move(e: PointerEvent) {\n        this.pointers = this.pointers.map(p => p.pointerId === e.pointerId ? e : p)\n        if (!this.translating) return;\n\n        const rect = this.el.getBoundingClientRect();\n\n        const { cx, cy, distance } = this.touches();\n\n        if (this.previous !== null) {\n            const delta = distance / this.previous.distance - 1;\n\n            const ox = (rect.left - cx) * delta;\n            const oy = (rect.top - cy) * delta;\n\n            this.onzoom(delta, ox - (this.previous.cx - cx), oy - (this.previous.cy - cy), 'touch');\n        }\n        this.previous = { cx, cy, distance };\n    }\n\n    end(e: PointerEvent) {\n        this.previous = null;\n        this.pointers = this.pointers.filter(p => p.pointerId !== e.pointerId)\n    }\n\n    dblclick(e: MouseEvent) {\n        e.preventDefault();\n\n        const rect = this.el.getBoundingClientRect();\n        const delta = 4 * this.intensity;\n\n        const ox = (rect.left - e.clientX) * delta;\n        const oy = (rect.top - e.clientY) * delta;\n\n        this.onzoom(delta, ox, oy, 'dblclick');\n    }\n}\n","import { Drag } from './drag';\nimport { Emitter } from '../core/emitter';\nimport { EventsTypes } from '../events';\nimport { Zoom } from './zoom';\n\nexport interface Transform { k: number; x: number; y: number }\nexport interface Mouse { x: number; y: number }\nexport type ZoomSource = 'wheel' | 'touch' | 'dblclick';\n\nexport class Area extends Emitter<EventsTypes> {\n\n    el: HTMLElement;\n    container: HTMLElement;\n    transform: Transform = { k: 1, x: 0, y: 0 };\n    mouse: Mouse = { x: 0, y: 0 }\n    \n    private _startPosition: Transform | null = null\n    private _zoom: Zoom;\n    private _drag: Drag;\n\n    constructor(container: HTMLElement, emitter: Emitter<EventsTypes>) {\n        super(emitter);\n        \n        const el = this.el = document.createElement('div');\n\n        this.container = container;\n        el.style.transformOrigin = '0 0';\n\n        this._zoom = new Zoom(container, el, 0.1, this.onZoom.bind(this));\n        this._drag = new Drag(container, this.onTranslate.bind(this), this.onStart.bind(this));\n\n        emitter.on('destroy', () => {\n            this._zoom.destroy();\n            this._drag.destroy();\n        });\n\n        this.container.addEventListener('pointermove', this.pointermove.bind(this));\n\n        this.update();\n    }\n\n    update() {\n        const t = this.transform;\n\n        this.el.style.transform = `translate(${t.x}px, ${t.y}px) scale(${t.k})`;\n    }\n\n    pointermove(e: PointerEvent) {\n        const { clientX, clientY } = e;\n        const rect = this.el.getBoundingClientRect();\n        const x = clientX - rect.left;\n        const y = clientY - rect.top;\n        const k = this.transform.k;\n        \n        this.mouse = { x: x / k, y: y / k };\n        this.trigger('mousemove', { ...this.mouse }); // TODO rename on `pointermove`\n    }\n\n    onStart() {\n        this._startPosition = { ...this.transform };\n    }\n\n    onTranslate(dx: number, dy: number) {\n        if (this._zoom.translating) return; // lock translation while zoom on multitouch\n        if (this._startPosition) this.translate(this._startPosition.x + dx, this._startPosition.y + dy);\n    }\n\n    onZoom(delta: number, ox: number, oy: number, source: ZoomSource) {\n        this.zoom(this.transform.k * (1 + delta), ox, oy, source);\n\n        this.update();\n    }\n\n    translate(x: number, y: number) {\n        const params = { transform: this.transform, x, y };\n\n        if (!this.trigger('translate', params)) return;\n\n        this.transform.x = params.x;\n        this.transform.y = params.y;\n\n        this.update();\n        this.trigger('translated');\n    }\n\n    zoom(zoom: number, ox = 0, oy = 0, source: ZoomSource) {\n        const k = this.transform.k;\n        const params = { transform: this.transform, zoom, source };\n\n        if (!this.trigger('zoom', params)) return;\n        \n        const d = (k - params.zoom) / ((k - zoom) || 1);\n\n        this.transform.k = params.zoom || 1;\n        this.transform.x += ox * d;\n        this.transform.y += oy * d;\n\n        this.update();\n        this.trigger('zoomed', { source });\n    }\n\n    appendChild(el: HTMLElement) {\n        this.el.appendChild(el)\n    }\n\n    removeChild(el: HTMLElement) {\n        this.el.removeChild(el)\n    }\n}","import { Connection } from '../connection';\nimport { Emitter } from '../core/emitter';\nimport { EventsTypes } from '../events';\nimport { NodeView } from './node';\n\nexport class ConnectionView extends Emitter<EventsTypes> {\n\n    connection: Connection;\n    inputNode: NodeView;\n    outputNode: NodeView;\n    el: HTMLElement;\n\n    constructor(connection: Connection, inputNode: NodeView, outputNode: NodeView, emitter: Emitter<EventsTypes>) {\n        super(emitter);\n        this.connection = connection;\n        this.inputNode = inputNode;\n        this.outputNode = outputNode;\n\n        this.el = document.createElement('div');\n        this.el.style.position = 'absolute';\n        this.el.style.zIndex = '-1';\n\n        this.trigger('renderconnection', {\n            el: this.el,\n            connection: this.connection,\n            points: this.getPoints()\n        });\n    }\n\n    getPoints() {\n        const { input, output } = this.connection\n\n        if (this.inputNode.hasSocket(input) && this.outputNode.hasSocket(output)) {\n            const [x1, y1] = this.outputNode.getSocketPosition(output);\n            const [x2, y2] = this.inputNode.getSocketPosition(input);\n\n            return [x1, y1, x2, y2];\n        }\n\n        return [0, 0, 0, 0]\n    }\n\n    update() {\n        this.trigger('updateconnection', {\n            el: this.el,\n            connection: this.connection,\n            points: this.getPoints()\n        });\n    }\n}\n","import { Control } from '../control';\nimport { Emitter } from '../core/emitter';\nimport { EventsTypes } from '../events';\n\nexport class ControlView extends Emitter<EventsTypes> {\n\n    constructor(el: HTMLElement, control: Control, emitter: Emitter<EventsTypes>) {\n        super(emitter);\n        this.trigger('rendercontrol', { el, control });\n    }\n}","import { Emitter } from '../core/emitter';\nimport { EventsTypes } from '../events';\nimport { IO } from '../io';\nimport { Node } from '../node';\n\nexport class SocketView extends Emitter<EventsTypes> {\n\n    el: HTMLElement;\n    type: string;\n    io: IO;\n    node: Node;\n\n    constructor(el: HTMLElement, type: string, io: IO, node: Node, emitter: Emitter<EventsTypes>) {\n        super(emitter);\n        this.el = el;\n        this.type = type;\n        this.io = io;\n        this.node = node;\n\n        this.trigger('rendersocket', { el, [type]: this.io, socket: io.socket });\n    }\n\n    getPosition({ position }: { position: number[] }): [number, number] {\n        const el = this.el;\n\n        if (this.node.collapsed) {\n            let isOutput = false;\n            const customHackedOffsetX = 50;\n\n            if (this.io.node) {\n                isOutput = this.io.socket.name === 'output'\n            }\n\n            const nodeNameId = document.getElementById(this.node.name.toLowerCase() + '-' + this.node.id);\n\n            if(!nodeNameId) {\n                throw Error(`The node name id: nodename-${this.node.id} not found. Make sure to set the id in the HTML element`);\n            }\n\n\n            // the middle of the node component\n            const posY = nodeNameId.offsetHeight / 2\n\n            if (isOutput) {\n                const detailsElement = document.getElementById('details-' + this.node.id);\n                if(!detailsElement){\n                    throw Error(`The details id: details-${this.node.id} not found. Make sure to set the id in the details HTML element`);\n                }\n                const posXOutput = detailsElement.offsetWidth - customHackedOffsetX\n\n                return [\n                    \n                    position[0] + posXOutput,\n                    position[1] + posY\n                ]\n            }\n\n            return [\n                position[0] + customHackedOffsetX,\n                position[1] + posY\n            ]\n        }\n        if (this.node.inputsCollapsed) {\n            let isOutput = false;\n            const customHackedOffsetX = 50;\n            const customHackedOffsetY = -10;\n\n            if (this.io.node) {\n                isOutput = this.io.socket.name === 'output'\n            }\n            if (!isOutput) {\n                const nodeInputs = document.getElementById('node-inputs-' + this.node.id)\n                const nodeSummary = document.getElementById('node-summary-' + this.node.id);\n\n                if(!nodeInputs){\n                    throw Error(`The node-inputs id: node-inputs-${this.node.id} not found. Make sure to set the id in the HTML element`);\n                }\n\n                if(!nodeSummary){\n                    throw Error(`The node-summary id: node-summary-${this.node.id} not found. Make sure to set the id in the HTML element`);\n                }\n\n                // the middle of the inputs\n                const posY = nodeInputs.offsetHeight + nodeSummary.offsetHeight + customHackedOffsetY\n\n                return [\n                    position[0] + customHackedOffsetX,\n                    position[1] + posY\n                ]\n            }\n        }\n        if (this.node.outputsCollapsed) {\n            let isOutput = false;\n            const customHackedOffsetX = 47;\n            const customHackedOffsetY = 0;\n\n            if (this.io.node) {\n                isOutput = this.io.socket.name === 'output'\n            }\n            if (isOutput) {\n\n                const companyId = document.getElementById('company-' + this.node.id);\n                const nodeFooterId = document.getElementById('node-footer-' + this.node.id)\n                const nodeOutputsId = document.getElementById('node-outputs-' + this.node.id);\n                const detailsId = document.getElementById('details-' + this.node.id);\n\n                if(!companyId){\n                    throw Error(`The company id: company-${this.node.id} not found. Make sure to set the id in the HTML element`);\n                }\n\n                if(!nodeFooterId){\n                    throw Error(`The node-footer id: node-footer-${this.node.id} not found. Make sure to set the id in the HTML element`);\n                }\n                if(!nodeOutputsId){\n                    throw Error(`The node-outputs id: node-outputs-${this.node.id} not found. Make sure to set the id in the HTML element`);\n                }\n                if(!detailsId){\n                    throw Error(`The details id: details-${this.node.id} not found. Make sure to set the id in the HTML element`);\n                }\n\n                // the middle of the outputs\n                const posY = companyId.offsetHeight + customHackedOffsetY - nodeFooterId.offsetHeight - \n                nodeOutputsId.offsetHeight / 2\n                \n                const posXOutput = detailsId.offsetWidth - customHackedOffsetX\n\n                return [\n                    position[0] + posXOutput,\n                    position[1] + posY\n                ]\n            }\n        }\n        return [\n            position[0] + el.offsetLeft + el.offsetWidth / 2,\n            position[1] + el.offsetTop + el.offsetHeight / 2\n        ]\n    }\n}","import { Component } from '../engine/component';\nimport { Control } from '../control';\nimport { ControlView } from './control';\nimport { Drag } from './drag';\nimport { Emitter } from '../core/emitter';\nimport { EventsTypes } from '../events';\nimport { IO } from '../io';\nimport { Node } from '../node';\nimport { SocketView } from './socket';\n\nexport class NodeView extends Emitter<EventsTypes> {\n\n    node: Node;\n    component: Component;\n    sockets = new Map<IO, SocketView>();\n    controls = new Map<Control, ControlView>();\n\n    el: HTMLElement;\n    private _startPosition: number[] = [];\n    private _drag: Drag;\n\n    constructor(node: Node, component: Component, emitter: Emitter<EventsTypes>) {\n        super(emitter);\n\n        this.node = node;\n        this.component = component;\n        this.el = document.createElement('div');\n        this.el.style.position = 'absolute';\n\n        this.el.addEventListener('contextmenu', e => this.trigger('contextmenu', { e, node: this.node }));\n\n        this._drag = new Drag(this.el, this.onTranslate.bind(this), this.onSelect.bind(this), () => {\n            this.trigger('nodedraged', node);\n            this.trigger('nodedragged', node);\n        });\n\n        this.trigger('rendernode', {\n            el: this.el,\n            node,\n            component: component.data,\n            bindSocket: this.bindSocket.bind(this),\n            bindControl: this.bindControl.bind(this)\n        });\n\n        this.update();\n    }\n\n    clearSockets() {\n        const ios: IO[] = [ ...this.node.inputs.values(), ...this.node.outputs.values()];\n\n        this.sockets.forEach(s => {\n            if (!ios.includes(s.io)) this.sockets.delete(s.io);\n        });\n    }\n\n    bindSocket(el: HTMLElement, type: string, io: IO) {\n        this.clearSockets();\n        this.sockets.set(io, new SocketView(el, type, io, this.node, this));\n    }\n\n    bindControl(el: HTMLElement, control: Control) {\n        this.controls.set(control, new ControlView(el, control, this));\n    }\n\n    hasSocket(io: IO) {\n        return this.sockets.has(io)\n    }\n\n    getSocketPosition(io: IO) {\n        const socket = this.sockets.get(io);\n\n        if (!socket) throw new Error(`Socket not found for ${io.name} with key ${io.key}`);\n\n        return socket.getPosition(this.node);\n    }\n\n    onSelect(e: MouseEvent) {\n        const payload = { node: this.node, accumulate: e.ctrlKey, e };\n\n        this.onStart();\n        this.trigger('multiselectnode', payload);\n        this.trigger('selectnode', payload);\n    }\n\n    onStart() {\n        this._startPosition = [...this.node.position];\n    }\n\n    onTranslate(dx: number, dy: number) {\n        this.trigger('translatenode', { node: this.node, dx, dy });\n    }\n\n    onDrag(dx: number, dy: number) {\n        const x = this._startPosition[0] + dx;\n        const y = this._startPosition[1] + dy;\n\n        this.translate(x, y);\n    }\n\n    translate(x: number, y: number) {\n        const node = this.node;\n        const params = { node, x, y };\n\n        if (!this.trigger('nodetranslate', params)) return;\n\n        const [px, py] = node.position;\n        const prev: [number, number] = [px, py];\n\n        node.position[0] = params.x;\n        node.position[1] = params.y;\n\n        this.update();\n        this.trigger('nodetranslated', { node, prev });\n    }\n\n    update() {\n        const [x, y] = this.node.position;\n\n        this.el.style.transform = `translate(${x}px, ${y}px)`;\n    }\n\n    remove() {\n\n    }\n\n    destroy() {\n        this._drag.destroy();\n    }\n}\n","import { Area } from './area';\nimport { Component } from '../engine/component';\nimport { Connection } from '../connection';\nimport { ConnectionView } from './connection';\nimport { Emitter } from '../core/emitter';\nimport { EventsTypes } from '../events';\nimport { Node } from '../node';\nimport { NodeView } from './node';\nimport { listenWindow } from './utils';\n\nexport class EditorView extends Emitter<EventsTypes> {\n\n    container: HTMLElement;\n    components: Map<string, Component>;\n    nodes = new Map<Node, NodeView>();\n    connections = new Map<Connection, ConnectionView>();\n    area: Area;\n\n    // eslint-disable-next-line max-statements\n    constructor(container: HTMLElement, components: Map<string, Component>, emitter: Emitter<EventsTypes>) {\n        super(emitter);\n\n        this.container = container;\n        this.components = components;\n\n        this.container.style.overflow = 'hidden';\n\n        this.container.addEventListener('click', this.click.bind(this));\n        this.container.addEventListener('contextmenu', e => this.trigger('contextmenu', { e, view: this }));\n        emitter.on('destroy', listenWindow('resize', this.resize.bind(this)));\n        emitter.on('destroy', () => this.nodes.forEach(view => view.destroy()));\n\n        this.on('nodetranslated', this.updateConnections.bind(this));\n        this.on('rendersocket', ({ input, output }) => {\n            const connections = Array.from(this.connections.entries())\n            const relatedConnections = connections.filter(([connection]) => {\n                return connection.input === input || connection.output === output\n            })\n\n            relatedConnections.forEach(([_, view]) => requestAnimationFrame(() => view.update()))\n        })\n\n        this.area = new Area(container, this);\n        this.container.appendChild(this.area.el);\n    }\n\n    addNode(node: Node) {\n        const component = this.components.get(node.name);\n\n        if (!component) throw new Error(`Component ${node.name} not found`);\n\n        const nodeView = new NodeView(node, component, this);\n\n        this.nodes.set(node, nodeView);\n        this.area.appendChild(nodeView.el);\n    }\n\n    removeNode(node: Node) {\n        const nodeView = this.nodes.get(node);\n\n        this.nodes.delete(node);\n        if (nodeView) {\n            this.area.removeChild(nodeView.el);\n            nodeView.destroy();\n        }\n    }\n\n    addConnection(connection: Connection) {\n        if (!connection.input.node || !connection.output.node)\n            throw new Error('Connection input or output not added to node');\n\n        const viewInput = this.nodes.get(connection.input.node);\n        const viewOutput = this.nodes.get(connection.output.node);\n\n        if (!viewInput || !viewOutput)\n            throw new Error('View node not found for input or output');\n\n        const connView = new ConnectionView(connection, viewInput, viewOutput, this);\n\n        this.connections.set(connection, connView);\n        this.area.appendChild(connView.el);\n    }\n\n    removeConnection(connection: Connection) {\n        const connView = this.connections.get(connection);\n\n        this.connections.delete(connection);\n        if (connView)\n            this.area.removeChild(connView.el);\n    }\n\n    updateConnections({ node }: { node: Node }) {\n        node.getConnections().forEach(conn => {\n            const connView = this.connections.get(conn);\n\n            if (!connView) throw new Error('Connection view not found');\n\n            connView.update();\n        });\n    }\n\n    resize() {\n        const { container } = this;\n\n        if (!container.parentElement)\n            throw new Error('Container doesn\\'t have parent element');\n\n        const width = container.parentElement.clientWidth;\n        const height = container.parentElement.clientHeight;\n\n        container.style.width = width + 'px';\n        container.style.height = height + 'px';\n    }\n\n    click(e: Event) {\n        const container = this.container;\n\n        if (container !== e.target) return;\n        if (!this.trigger('click', { e, container })) return;\n    }\n}\n","import { Node } from './node';\n\nexport class Selected {\n\n    list: Node[] = [];\n\n    add(item: Node, accumulate = false) {\n        if (!accumulate)\n            this.list = [item]; \n        else if (!this.contains(item))\n            this.list.push(item);   \n    }\n\n    clear() {\n        this.list = [];\n    }\n\n    remove(item: Node) {\n        this.list.splice(this.list.indexOf(item), 1);\n    }\n\n    contains(item: Node) {\n        return this.list.indexOf(item) !== -1;\n    }\n\n    each(callback: (n: Node, index: number) => void) {\n        this.list.forEach(callback);\n    }\n}","import { Component } from '../engine/component';\n\nexport class Events {\n\n    handlers: {};\n\n    constructor(handlers: {}) {\n        this.handlers = {\n            warn: [console.warn],\n            error: [console.error],\n            componentregister: [],\n            destroy: [],\n            ...handlers\n        }\n    }\n}\n\nexport interface EventsTypes {\n    warn: string | Error;\n    error: string | Error;\n    componentregister: Component;\n    destroy: void;\n}","import { Component } from './component';\nimport { Connection } from './connection';\nimport { Control } from './control';\nimport { Data } from './core/data';\nimport { EditorView } from './view';\nimport { Input } from './input';\nimport { Node } from './node';\nimport { Output } from './output';\nimport { Socket } from './socket';\nimport { EventsTypes as DefaultEventsTypes, Events } from './core/events';\nimport { Mouse, Transform, ZoomSource } from './view/area';\n\nexport class EditorEvents extends Events {\n\n    constructor() {\n        super({\n            nodecreate: [],\n            nodecreated: [],\n            noderemove: [],\n            noderemoved: [],\n            connectioncreate: [],\n            connectioncreated: [],\n            connectionremove: [],\n            connectionremoved: [],\n            translatenode: [],\n            nodetranslate: [],\n            nodetranslated: [],\n            nodedraged: [],\n            nodedragged: [],\n            selectnode: [],\n            multiselectnode: [],\n            nodeselect: [],\n            nodeselected: [],\n            rendernode: [],\n            rendersocket: [],\n            rendercontrol: [],\n            renderconnection: [],\n            updateconnection: [],\n            keydown: [],\n            keyup: [],\n            translate: [],\n            translated: [],\n            zoom: [],\n            zoomed: [],\n            click: [],\n            mousemove: [],\n            contextmenu: [],\n            import: [],\n            export: [],\n            process: [],\n            clear: []\n        });\n    }    \n}\n\nexport interface EventsTypes extends DefaultEventsTypes {\n    componentregister: Component;\n    nodecreate: Node;\n    nodecreated: Node;\n    noderemove: Node;\n    noderemoved: Node;\n    connectioncreate: { input: Input; output: Output };\n    connectioncreated: Connection;\n    connectionremove: Connection;\n    connectionremoved: Connection;\n    translatenode: { node: Node; dx: number; dy: number };\n    nodetranslate: { node: Node; x: number; y: number };\n    nodetranslated: { node: Node; prev: [number, number] };\n    nodedraged: Node;\n    nodedragged: Node;\n    selectnode: {\n        node: Node;\n        accumulate: boolean;\n    };\n    multiselectnode: {\n        node: Node;\n        accumulate: boolean;\n        e: MouseEvent;\n    };\n    nodeselect: Node;\n    nodeselected: Node;\n    rendernode: {\n        el: HTMLElement;\n        node: Node;\n        component: object;\n        bindSocket: Function;\n        bindControl: Function;\n    };\n    rendersocket: {\n        el: HTMLElement;\n        input?: Input;\n        output?: Output;\n        socket: Socket;\n    };\n    rendercontrol: {\n        el: HTMLElement;\n        control: Control;\n    };\n    renderconnection: {\n        el: HTMLElement;\n        connection: Connection;\n        points: number[];\n    };\n    updateconnection: {\n        el: HTMLElement;\n        connection: Connection;\n        points: number[];\n    };\n    keydown: KeyboardEvent;\n    keyup: KeyboardEvent;\n    translate: {\n        transform: Transform;\n        x: number;\n        y: number;\n    };\n    translated: void;\n    zoom: {\n        transform: Transform;\n        zoom: number;\n        source: ZoomSource;\n    };\n    zoomed: {\n        source: ZoomSource;\n    };\n    click: {\n        e: Event;\n        container: HTMLElement;\n    };\n    mousemove: Mouse;\n    contextmenu: {\n        e: MouseEvent;\n        view?: EditorView;\n        node?: Node;\n    };\n    import: Data;\n    export: Data;\n    process: void;\n    clear: void;\n}\n","import { Component } from './component';\nimport { Connection } from './connection';\nimport { Context } from './core/context';\nimport { Data } from './core/data';\nimport { EditorView } from './view/index';\nimport { Input } from './input';\nimport { Node } from './node';\nimport { Output } from './output';\nimport { Selected } from './selected';\nimport { Validator } from './core/validator';\nimport { listenWindow } from './view/utils';\nimport { EditorEvents, EventsTypes } from './events';\n\nexport class NodeEditor extends Context<EventsTypes> {\n\n    nodes: Node[] = [];\n    selected = new Selected();\n    view: EditorView;\n\n    constructor(id: string, container: HTMLElement) {\n        super(id, new EditorEvents());\n\n        this.view = new EditorView(container, this.components, this);\n\n        this.on('destroy', listenWindow('keydown', e => this.trigger('keydown', e)));\n        this.on('destroy', listenWindow('keyup', e => this.trigger('keyup', e)));\n\n        this.on('selectnode', ({ node, accumulate }) => this.selectNode(node, accumulate));\n        this.on('nodeselected', () => this.selected.each(n => {\n            const nodeView = this.view.nodes.get(n);\n\n            nodeView && nodeView.onStart()\n        }));\n        this.on('translatenode', ({ dx, dy }) => this.selected.each(n => {\n            const nodeView = this.view.nodes.get(n);\n\n            nodeView && nodeView.onDrag(dx, dy)\n        }));\n    }\n\n    addNode(node: Node) {\n        if (!this.trigger('nodecreate', node)) return;\n\n        this.nodes.push(node);\n        this.view.addNode(node);\n\n        this.trigger('nodecreated', node);\n    }\n\n    removeNode(node: Node) {\n        if (!this.trigger('noderemove', node)) return;\n\n        node.getConnections().forEach(c => this.removeConnection(c));\n\n        this.nodes.splice(this.nodes.indexOf(node), 1);\n        this.view.removeNode(node);\n\n        this.trigger('noderemoved', node);\n    }\n\n    connect(output: Output, input: Input, data: unknown = {}) {\n        if (!this.trigger('connectioncreate', { output, input })) return;\n\n        try {\n            const connection = output.connectTo(input);\n\n            connection.data = data;\n            this.view.addConnection(connection);\n\n            this.trigger('connectioncreated', connection);\n        } catch (e) {\n            this.trigger('warn', e as Error)\n        }\n    }\n\n    removeConnection(connection: Connection) {\n        if (!this.trigger('connectionremove', connection)) return;\n\n        this.view.removeConnection(connection);\n        connection.remove();\n\n        this.trigger('connectionremoved', connection);\n    }\n\n    selectNode(node: Node, accumulate = false) {\n        if (this.nodes.indexOf(node) === -1)\n            throw new Error('Node not exist in list');\n\n        if (!this.trigger('nodeselect', node)) return;\n\n        this.selected.add(node, accumulate);\n\n        this.trigger('nodeselected', node);\n    }\n\n    getComponent(name: string) {\n        const component = this.components.get(name);\n\n        if (!component)\n            throw `Component ${name} not found`;\n\n        return component as Component;\n    }\n\n    register(component: Component) {\n        super.register(component)\n        component.editor = this;\n    }\n\n    clear() {\n        [...this.nodes].forEach(node => this.removeNode(node));\n        this.trigger('clear');\n    }\n\n    toJSON() {\n        const data: Data = { id: this.id, nodes: {} };\n\n        this.nodes.forEach(node => data.nodes[node.id] = node.toJSON());\n        this.trigger('export', data);\n        return data;\n    }\n\n    beforeImport(json: Data) {\n        const checking = Validator.validate(this.id, json);\n\n        if (!checking.success) {\n            this.trigger('warn', checking.msg);\n            return false;\n        }\n\n        this.silent = true;\n        this.clear();\n        this.trigger('import', json);\n        return true;\n    }\n\n    afterImport() {\n        this.silent = false;\n        return true;\n    }\n\n    async fromJSON(json: Data) {\n        if (!this.beforeImport(json)) return false;\n        const nodes: {[key: string]: Node} = {};\n\n        try {\n            await Promise.all(Object.keys(json.nodes).map(async id => {\n                const node = json.nodes[id];\n                const component = this.getComponent(node.name);\n\n                nodes[id] = await component.build(Node.fromJSON(node));\n                this.addNode(nodes[id]);\n            }));\n\n            Object.keys(json.nodes).forEach(id => {\n                const jsonNode = json.nodes[id];\n                const node = nodes[id];\n\n                Object.keys(jsonNode.outputs).forEach(key => {\n                    const outputJson = jsonNode.outputs[key];\n\n                    outputJson.connections.forEach(jsonConnection => {\n                        const nodeId = jsonConnection.node;\n                        const data = jsonConnection.data;\n                        const targetOutput = node.outputs.get(key);\n                        const targetInput = nodes[nodeId].inputs.get(jsonConnection.input);\n\n                        if (!targetOutput || !targetInput) {\n                            return this.trigger('error', `IO not found for node ${node.id}`);\n                        }\n\n                        this.connect(targetOutput, targetInput, data);\n                    });\n                });\n\n            });\n        } catch (e) {\n            this.trigger('warn', e as Error);\n            return !this.afterImport();\n        }\n\n        return this.afterImport();\n    }\n}\n","import { Connection } from './connection';\nimport { IO } from './io';\nimport { Input } from './input';\nimport { OutputData } from './core/data';\nimport { Socket } from './socket';\n\nexport class Output extends IO {\n\n    constructor(key: string, title: string, socket: Socket, multiConns = true) {\n        super(key, title, socket, multiConns);\n    }\n\n    hasConnection() {\n        return this.connections.length > 0;\n    }\n\n    connectTo(input: Input) {\n        if (!this.socket.compatibleWith(input.socket))\n            throw new Error('Sockets not compatible');\n        if (!input.multipleConnections && input.hasConnection())\n            throw new Error('Input already has one connection');\n        if (!this.multipleConnections && this.hasConnection())\n            throw new Error('Output already has one connection');\n\n        const connection = new Connection(this, input);\n\n        this.connections.push(connection);\n        return connection;\n    }\n\n    connectedTo(input: Input) {\n        return this.connections.some((item) => {\n            return item.input === input;\n        });\n    }\n\n    toJSON(): OutputData {\n        return {\n            'connections': this.connections.map(c => {\n                if (!c.input.node) throw new Error('Node not added to Input');\n\n                return {\n                    node: c.input.node.id,\n                    input: c.input.key,\n                    data: c.data\n                }\n            })\n        };\n    }\n}\n","export class Socket {\n\n    name: string;\n    data: unknown;\n    compatible: Socket[] = [];\n\n    constructor(name: string, data = {}) {\n        this.name = name;\n        this.data = data;\n        this.compatible = [];\n    }\n\n    combineWith(socket: Socket) {\n        this.compatible.push(socket);\n    }\n\n    compatibleWith(socket: Socket) {\n        return this === socket || this.compatible.includes(socket);\n    }\n}","export class Candidate {\n\n    key: string;\n    idCandidate: number;\n    name: string;\n    similarity: number;\n    node: Node | null = null;\n\n    constructor(key: string, idCandidate: number, name:string, similarity:number) {\n        this.node = null;\n        this.key = key;\n        this.idCandidate = idCandidate;\n        this.name = name; \n        this.similarity = similarity;\n    }\n\n    toJSON(){\n        return {\n            key: this.key,\n            idCandidate: this.idCandidate,\n            name: this.name,\n            similarity: this.similarity\n        }\n    }\n}","import { InputConnectionData, NodeData, NodesData } from '../core/data';\n\nfunction intersect<T>(array1: T[], array2: T[]) {\n    return array1.filter(value => -1 !== array2.indexOf(value));\n}\n\nexport class Recursion {\n\n    nodes: NodesData;\n\n    constructor(nodes: NodesData) {\n        this.nodes = nodes;\n    }\n\n    extractInputNodes(node: NodeData): NodeData[] {\n        return Object.keys(node.inputs).reduce((acc: NodeData[], key: string) => {\n            const { connections } = node.inputs[key];\n            const nodesData = (connections || []).reduce((b: NodeData[], c: InputConnectionData) => {\n                return [...b, this.nodes[c.node]];\n            }, []);\n\n            return [...acc, ...nodesData]\n        }, []);\n    }\n\n    findSelf(list: NodeData[], inputNodes: NodeData[]): NodeData | null {\n        const inters = intersect<NodeData>(list, inputNodes);\n\n        if (inters.length)\n            return inters[0];\n\n        for (const node of inputNodes) {\n            const l = [node, ...list];\n            const inter = this.findSelf(l, this.extractInputNodes(node));\n\n            if (inter)\n                return inter;\n        }\n\n        return null;\n    }\n\n    detect(): NodeData | null {\n        const nodesArr = Object.keys(this.nodes).map(id => this.nodes[id]);\n\n        for (const node of nodesArr) {\n            const inters = this.findSelf([node], this.extractInputNodes(node));\n\n            if (inters)\n                return inters;\n        }\n\n        return null;\n    }\n}\n","export const State = { AVAILABLE: 0, PROCESSED: 1, ABORT: 2 }","import { Events } from '../core/events';\n\nexport class EngineEvents extends Events {\n\n    constructor() {\n        super({});\n    }    \n}\nexport interface EventsTypes {\n}","import { Component } from './component';\nimport { Context } from '../core/context';\nimport { Recursion } from './recursion';\nimport { State } from './state';\nimport { Validator } from '../core/validator';\nimport { Data, NodeData, WorkerOutputs } from '../core/data';\nimport { EngineEvents, EventsTypes } from './events';\nexport { Component, Recursion };\n\ninterface EngineNode extends NodeData {\n    busy: boolean;\n    unlockPool: (() => void)[];\n    outputData: WorkerOutputs;\n}\n\nexport class Engine extends Context<EventsTypes> {\n\n    args: unknown[] = [];\n    data: Data | null = null;\n    state = State.AVAILABLE;\n    forwarded = new Set();\n    onAbort = () => { };\n\n    constructor(id: string) {\n        super(id, new EngineEvents());\n    }\n\n    public clone() {\n        const engine = new Engine(this.id);\n\n        this.components.forEach(c => engine.register(c));\n\n        return engine;\n    }\n\n    async throwError (message: string, data: unknown = null) {\n        await this.abort();\n        this.trigger('error', { message, data });\n        this.processDone();\n\n        return 'error';\n    }\n\n    private processStart() {\n        if (this.state === State.AVAILABLE) {\n            this.state = State.PROCESSED;\n            return true;\n        }\n\n        if (this.state === State.ABORT) {\n            return false;\n        }\n\n        console.warn(`The process is busy and has not been restarted.\n                Use abort() to force it to complete`);\n        return false;\n    }\n\n    private processDone() {\n        const success = this.state !== State.ABORT;\n\n        this.state = State.AVAILABLE;\n\n        if (!success) {\n            this.onAbort();\n            this.onAbort = () => { }\n        }\n\n        return success;\n    }\n\n    public async abort() {\n        return new Promise<void>(ret => {\n            if (this.state === State.PROCESSED) {\n                this.state = State.ABORT;\n                this.onAbort = ret;\n            }\n            else if (this.state === State.ABORT) {\n                this.onAbort();\n                this.onAbort = ret;\n            }\n            else\n                ret();\n        });\n    }\n\n    private async lock(node: EngineNode) {\n        return new Promise<void>(res => {\n            node.unlockPool = node.unlockPool || [];\n            if (node.busy && !node.outputData)\n                node.unlockPool.push(res);\n            else\n                res();\n\n            node.busy = true;\n        });\n    }\n\n    unlock(node: EngineNode) {\n        node.unlockPool.forEach(a => a());\n        node.unlockPool = [];\n        node.busy = false;\n    }\n\n    private async extractInputData(node: NodeData) {\n        const obj: {[id: string]: any} = {};\n\n        for (const key of Object.keys(node.inputs)) {\n            const input = node.inputs[key];\n            const conns = input.connections;\n            const connData = await Promise.all(conns.map(async (c) => {\n                const prevNode = (this.data as Data).nodes[c.node];\n\n                const outputs = await this.processNode(prevNode as EngineNode);\n\n                if (!outputs)\n                    this.abort();\n                else\n                    return outputs[c.output];\n            }));\n\n            obj[key] = connData;\n        }\n\n        return obj;\n    }\n\n    private async processWorker(node: NodeData) {\n        const inputData = await this.extractInputData(node);\n        const component = this.components.get(node.name) as Component;\n        const outputData = {};\n\n        try {\n            await component.worker(node, inputData, outputData, ...this.args);\n        } catch (e) {\n            this.abort();\n            this.trigger('warn', e as Error);\n        }\n\n        return outputData;\n    }\n\n    private async processNode(node: EngineNode) {\n        if (this.state === State.ABORT || !node)\n            return null;\n\n        await this.lock(node);\n\n        if (!node.outputData) {\n            node.outputData = await this.processWorker(node);\n        }\n\n        this.unlock(node);\n        return node.outputData;\n    }\n\n    private async forwardProcess(node: NodeData) {\n        if (this.state === State.ABORT)\n            return null;\n\n        return await Promise.all(Object.keys(node.outputs).map(async (key) => {\n            const output = node.outputs[key];\n            return await Promise.all(output.connections.map(async (c) => {\n                const nextNode = (this.data as Data).nodes[c.node];\n                if(!this.forwarded.has(nextNode)) {\n                    this.forwarded.add(nextNode);\n                    await this.processNode(nextNode as EngineNode);\n                    await this.forwardProcess(nextNode);\n                }\n            }));\n        }));\n    }\n\n    copy(data: Data) {\n        data = Object.assign({}, data);\n        data.nodes = Object.assign({}, data.nodes);\n\n        Object.keys(data.nodes).forEach(key => {\n            data.nodes[key] = Object.assign({}, data.nodes[key])\n        });\n        return data;\n    }\n\n    async validate(data: Data) {\n        const checking = Validator.validate(this.id, data);\n        const recursion = new Recursion(data.nodes);\n\n        if (!checking.success)\n            return await this.throwError(checking.msg);\n\n        const recurrentNode = recursion.detect();\n\n        if (recurrentNode)\n            return await this.throwError('Recursion detected', recurrentNode);\n\n        return true;\n    }\n\n    private async processStartNode(id: string | number | null) {\n        if (!id) return;\n\n        const startNode = (this.data as Data).nodes[id];\n\n        if (!startNode)\n            return await this.throwError('Node with such id not found');\n\n        await this.processNode(startNode as EngineNode);\n        await this.forwardProcess(startNode);\n    }\n\n    private async processUnreachable() {\n        const data = this.data as Data;\n\n        for (const i in data.nodes) { // process nodes that have not been reached\n            const node = data.nodes[i] as EngineNode;\n\n            if (typeof node.outputData === 'undefined') {\n                await this.processNode(node);\n                await this.forwardProcess(node);\n            }\n        }\n    }\n\n    async process<T extends unknown[]>(data: Data, startId: number | string | null = null, ...args: T) {\n        if (!this.processStart()) return;\n        if (!this.validate(data)) return;\n\n        this.data = this.copy(data);\n        this.args = args;\n        this.forwarded = new Set();\n\n        await this.processStartNode(startId);\n        await this.processUnreachable();\n\n        return this.processDone()?'success':'aborted';\n    }\n}\n","import { Component } from './component';\nimport { Connection } from './connection';\nimport { Control } from './control';\nimport { Emitter } from './core/emitter';\nimport { IO } from './io';\nimport { Input } from './input';\nimport { Node } from './node';\nimport { NodeEditor } from './editor';\nimport { Output } from './output';\nimport { Socket } from './socket';\nimport { Candidate } from './candidate';\nimport { Engine, Recursion } from './engine/index';\n\nexport { Engine, Recursion } from './engine/index';\nexport { Component } from './component';\nexport { Control } from './control';\nexport { Connection } from './connection';\nexport { Emitter } from './core/emitter';\nexport { Input } from './input';\nexport { IO } from './io';\nexport { Node } from './node';\nexport { NodeEditor } from './editor';\nexport { Output } from './output';\nexport { Socket } from './socket';\nexport { Candidate } from './candidate';\n\nexport default {\n    Engine,\n    Recursion,\n    Component,\n    Control,\n    Connection,\n    Emitter,\n    Input,\n    IO,\n    Node,\n    NodeEditor,\n    Output,\n    Socket,\n    Candidate\n}"],"names":["Component","name","Node","Map","collapsed","descriptionCollapsed","inputsCollapsed","processedCollapsed","outputsCollapsed","id","incrementId","list","item","prop","has","key","Error","set","control","_add","controls","parent","input","inputs","removeConnections","node","output","outputs","candidate","candidates","meta","ios","values","connections","reduce","arr","io","reduceIO","Array","from","obj","toJSON","data","position","c","latestId","json","x","y","Math","max","candidatesMap","hasOwnProperty","builder","build","ComponentWorker","Connection","addConnection","removeConnection","Control","constructor","TypeError","getNode","Emitter","events","handlers","names","handler","split","forEach","push","params","String","r","e","isArray","IO","socket","multiConns","multipleConnections","connection","splice","indexOf","Input","title","length","hasConnection","map","Validator","isValidId","nodes","Object","test","id1","id2","msg","isValidData","success","Boolean","join","Context","plugins","components","plugin","options","install","component","trigger","listenWindow","event","window","addEventListener","removeEventListener","Drag","el","onTranslate","_x","_y","_e","onStart","onDrag","pointerStart","style","touchAction","down","bind","destroyMove","move","destroyUp","up","destroy","pointerType","button","stopPropagation","pageX","pageY","preventDefault","delta","zoom","getBoundingClientRect","width","offsetWidth","Zoom","container","intensity","onzoom","wheel","dblclick","end","destroyCancel","pointers","rect","isNegative","deltaY","ox","left","clientX","oy","top","clientY","touches","x1","y1","x2","y2","distance","sqrt","pow","cx","cy","p","pointerId","translating","previous","filter","Area","emitter","k","document","createElement","transformOrigin","_zoom","onZoom","_drag","on","pointermove","update","t","transform","mouse","_startPosition","_objectSpread","dx","dy","translate","source","d","appendChild","removeChild","ConnectionView","inputNode","outputNode","zIndex","points","getPoints","hasSocket","getSocketPosition","ControlView","SocketView","type","isOutput","customHackedOffsetX","nodeNameId","getElementById","toLowerCase","posY","offsetHeight","detailsElement","posXOutput","customHackedOffsetY","nodeInputs","nodeSummary","companyId","nodeFooterId","nodeOutputsId","detailsId","offsetLeft","offsetTop","NodeView","onSelect","bindSocket","bindControl","sockets","s","includes","clearSockets","get","getPosition","payload","accumulate","ctrlKey","px","py","prev","EditorView","overflow","click","view","resize","updateConnections","entries","relatedConnections","requestAnimationFrame","area","nodeView","viewInput","viewOutput","connView","getConnections","conn","parentElement","clientWidth","height","clientHeight","target","Selected","contains","callback","Events","warn","console","error","componentregister","EditorEvents","nodecreate","nodecreated","noderemove","noderemoved","connectioncreate","connectioncreated","connectionremove","connectionremoved","translatenode","nodetranslate","nodetranslated","nodedraged","nodedragged","selectnode","multiselectnode","nodeselect","nodeselected","rendernode","rendersocket","rendercontrol","renderconnection","updateconnection","keydown","keyup","translated","zoomed","mousemove","contextmenu","process","clear","NodeEditor","selectNode","selected","each","n","addNode","removeNode","connectTo","remove","add","editor","checking","validate","silent","beforeImport","Promise","all","keys","getComponent","fromJSON","jsonNode","outputJson","jsonConnection","nodeId","targetOutput","targetInput","connect","afterImport","Output","compatibleWith","some","Socket","compatible","Candidate","idCandidate","similarity","intersect","array1","array2","value","Recursion","acc","nodesData","b","inputNodes","inters","l","inter","findSelf","extractInputNodes","nodesArr","State","AVAILABLE","PROCESSED","ABORT","EngineEvents","Engine","Set","engine","register","message","abort","processDone","state","onAbort","ret","res","unlockPool","busy","outputData","a","conns","prevNode","processNode","connData","extractInputData","inputData","worker","args","lock","processWorker","unlock","nextNode","forwarded","forwardProcess","assign","recursion","throwError","recurrentNode","detect","startNode","i","startId","processStart","copy","processStartNode","processUnreachable"],"mappings":"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"}